
<!--
 ~ Copyright (c) 2011-2014 by Animatron.
 ~ All rights are reserved.
 ~
 ~ Animatron player is licensed under the MIT License, see LICENSE.
 -->

<!DOCTYPE html>
<html>
  <head>
    <title>The Animatron HTML5 Player Demo</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="shortcut icon" type="image/x-icon" href="../favicon.ico" />
    <link rel="stylesheet" href="./demo.css" type="text/css" />

    <script src="../src/vendor/matrix.js" type="text/javascript"></script>
    <script src="../src/vendor/font-detector.js" type="text/javascript"></script>
    <script src="../src/engine/dom-engine.js" type="text/javascript"></script>
    <script src="../src/anm.js" type="text/javascript"></script>
    <script src="../src/player.js" type="text/javascript"></script>
    <script src="../src/builder.js" type="text/javascript"></script>
    <script src="../src/module/collisions.js" type="text/javascript"></script>
    <script src="../src/module/scripting.js" type="text/javascript"></script>
    <script src="../src/import/animatron-importer.js" type="text/javascript"></script>


    <script type="text/javascript">

      var scene = '{"meta":{"id":"4268b153c11a3e0395ae0b11","created":1404135490413,"modified":1404135494696,"author":"Yuriy Opryshko","description":"","name":"","copyright":"Copyright (c) by Yuriy Opryshko","duration":1.0,"numberOfScenes":1,"projectAccess":{"visibility":"PUBLIC","writeAccess":["PUBLIC"],"readAccess":[]}},"anim":{"dimension":[550.0,450.0],"framerate":24.0,"loop":false,"background":"#ffffff","paths":["KHF0y+QxBHuVPIfvTg3RvYHlDWgLBCkz8Jgj2hn4yHPwpBNBIWhTST76D3kwWF28g7pOr2l3CGRiondDYAE0qQgEwA==","KHLji0nbgA==","KG6bThvPgA==","KH4OCaoctSJMuY7C+5OKyaHNi4EktAnwYJ9+K/sTqTZAATDlahAJgA==","KI5YibxPN2NR7Y8aCt6y+TjhE+XNsIDMAAN1yFEvLoIJ6F0zCFfH36C/E5fyFULJKpdaHzPyliQ1TUkWprwAkuUAJdPaS39e\nvcFWtzmoJhSTmbUgraohH7SmaJ5TxiUtOYAIIECTUGgABzqxzKMXchxlqlkm4yQqPWlJ7yS5rC9nJaMvWMRzBpUnESyk4iJY\niLVL6LeZCD6xd/N5dtgsLv4VdVlvxNv1tR22mnka60u1mXgEyOsphQ1t5cABIwAA8UAeZ8mzHNgz75j1vVUxyEqXd/VH4Fqm\nQlV9DwInE4KPmqXBxdRm4QqtK5rHmyW9MMasGCNg+dUu5c7GifA8xZO6EHO4Wyp0KM4dznbnEP9xm1BZMmmqxpgTni+XTcds\nM8cwzhZ9vnZ8s2CCEugj0hWPbXhHO4YTlkVfxeaQ3Rm4keeXl09eHPoQep0gGTg=","KH/EiKa3Lu+H1dtvYruSFuXOcdb47WTP4++gURevXhm7KlM7tanB/dTRkDKWcbnoM4UhtZyE+o7QIdyAQgAE1DSAAcmtdebE\nQNmZalYmtSzQ3WoF5XMpM4FWgTVK0leqXMKPjDP5XlPXhvpkzSPlbYwhQgEw","KKOkbUSnP3uEDFjwHGRqkczYWAZnVQQNvCgZxQaha7xWAzt9RKSjx79Tw8vfRkYHZ6Ep06EFonymeD7B9QZPV0/hcek0/iW9\nAPgACesdgAA9IAByxznWdXoQCYA=","KG9hSwUgwHBKsbJ8X1OST50GaAIZCS5DKnAu2RuIb/4I6q4K6SaIK8R7S96bDyqFthM1vX56KukoRalm9RS1gfQggrn1jQEV\nS1P1RHzKhAJg","KjJh9ElkLXck72gi32Q3QY4XTEINKd0VNB0AeZLgqZoOYwT24kZVyW0TASk1KhSbFGpLitkO6Gh6K0PpCmYNjKiGYAMuJISA\n5CQCISAOMqAZUQyoEVICPhUgkqX+JT3kSmeRGV4Mn4ZPySl+ElF6pD7JRHwqekfIrJlPIrJx3Mc7KOgvvYy8hmJDISRibysu\nYm+OfjnKxzmI8Ymgx1BiZZBJLoGJJAZLxgrTfWmAtkA9Kj+pUetNFBIopl9Kh57lbYQ87+/3H9J+chzmEXFMcucXpjld61Wo\nMBTW+MD/ojbKAnuQUHLEJLpeZZhrorm2XRfN64yhwXY9Hkqw0ghBzrf/RunoAACZR0AAyjP85lKv0EyC73pkC3dTICOdJ3Wz\nelO6Irap3LPY8UHeew3WIXBrgZMDtncViVg2rpvTehWvda9wlTPzr3x7EAATr2AAAbJNCBshVDTlXBHTNT6fVW9H6EWXEAaT\nLhAMoTaSCkUKe8NSWVuF8K2++Fbrf8vH8ulwzzUuN5FpUKklGgp47qo+mBWcnQ83VkH4CLwvKsCxHRyyccBLRLkH9QyclvI9\nVD3h0HyhzqTvOR/6ijzeCBAkr5mFWQ5cijrVqYm8441eZ74am5zWIQmeJjm+5TnHoAAczAdQDXT3A+h4IyBgvlRa9RdR5otc\n/gKVJF+7lm9r9RFRd5yqEZQuaSh2Fz34AAIQnyelUcP0LZPEFaFy5DQE+IMIUecepxMkCRTt9mBDo1s3OaJR95zgWL1OeEw8\n2cq1hWjlcQFecrAAAE9m0gAB7Li8GD2GBxBp6Uebpzz08la3HxiQrQtQjpu4Ulb/qkJ2pFchCEr19iSbcA==","JupWyMi6Ew==","JgBJkBb6qPo1QmA=","J//Y0AibL/Bi0UTA","I/t7aSuyAfQST4w=","JAGlvunoTA==","I5h2lmGhMA==","IwpHm5EhMA==","JXQClAOITA==","Jb/azLMITA==","Jb0DyFtoTA==","Jbz8R/ZoTA==","IUnHBICEwA==","JVwyaXcITA==","IAAAlt6EwA==","Jv++GXOiEw=="],"fonts":[{"face":"Amarante-Regular","url":"http://uploads.animatron.com/4847d153ba6ef238535686cc.ttf","style":"normal"}],"elements":[[2,"$$$LIBRARY$$$",10.0,[],{}],[2,"Scene1",1.0,[[2,"Hero","","",[0.282,41.274],"",4,[[2,[],"",[0.564]],[4,[],"",9]],{}],[13,"Amarante","","",[98.5,27.5],"",4,[[2,[0.0,1.0],"",[1.0,1.0,2.42,2.42]],[2,[1.0],"",[2.42]],[4,[],"",23]],{}]],{}],[1,"",[[3,"Hero",[0.0,2.45],"",[0.0,141.862],[1],4,[[2,[0.0,0.5],"",[0.638,0.638,0.639,0.555]],[2,[0.5,0.7],"",[0.639,0.555,0.639,0.686]],[2,[0.7,2.2],"",[0.639,0.686]],[2,[2.2,2.35],"",[0.639,0.686,0.639,0.564]],[2,[2.35,2.45],"",[0.639,0.564,0.639,0.645]],[2,[2.45,2.45],"",[0.639,0.645]],[4,[0.0,0.5],"",10],[4,[0.5,1.3],8,11],[4,[1.3,2.2],7,12],[4,[2.2,2.45],"",13]],{}]]],[1,"",[[4,"Bezier1","","",[271.691,367.246],"",4,[[4,[],"",14]],{}],[5,"Bezier2","","",[235.292,369.901],"",4,[[4,[],"",15]],{}],[6,"Bezier3","","",[226.522,462.311],"",4,[[4,[],"",16]],{}],[7,"Bezier4","","",[265.355,316.259],"",4,[[4,[],"",17]],{}],[8,"Bezier5","","",[263.901,307.366],"",4,[[4,[],"",18]],{}],[9,"Bezier6","","",[263.885,306.558],"",4,[[4,[],"",19]],{}],[10,"Bezier7","","",[274.872,389.131],"",4,[[4,[],"",20]],{}],[11,"Bezier8","","",[214.33,375.171],"",4,[[4,[],"",21]],{}],[12,"Bezier9","","",[298.198,440.634],"",4,[[4,[],"",22]],{}]]],[3,"#f15b2a","","",0],[3,"#ffffff","","",1],[3,"#ffffff",[3.0,"#231f20"],"",2],[3,"#231f20","","",3],[3,"#231f20","","",4],[3,"#ffffff","","",5],[3,"#ffffff","","",6],[3,"#ffffff","","",7],[3,"#231f20","","",8],[4,"#000000","","","bold italic 48px Amarante-Regular","","Amarante",3]],"scenes":[1]}}';

      var player = null;

      function createPlayer() {
          return anm.createPlayer('canvas', { audioEnabled: false, /*controlsEnabled: false, autoPlay: true*/ });
      }

      function load(json) {
          if (!player) return;

          var /*b = Builder._$, */C = anm.constants;
          var AnimatronImporter = anm.importers.animatron;

          var project = JSON.parse(json);

          // canvas0
          var importer = new AnimatronImporter();
          player.detach();
          //var importer = new AnimatronImporter();
          player = createPlayer();
          //player.debug = true;
          player.load(project, importer);
          //var b = Builder._$;
          //player.load(b().band([2, 10])/*.modify(function() { throw new Error('Test'); })*/, 10);
          //player.play();
      }

      function start() {
          if (!window.__anm_conf) window.__anm_conf = {};
          window.__anm_conf.logImport = true;
          window.__anm_conf.logResMan = true;

          player = createPlayer();
          load(scene);
      }
    </script>
  </head>

  <body onload="start();">
    <h1 style="margin-bottom: 20px">custom font demo</h1>

    <canvas id="canvas" width="600" height="600"></canvas>



    <div id="copyright" style="clear: both"><span>Â© O_o</span></div>

  </body>

</html>
